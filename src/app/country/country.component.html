<div *ngIf="isLoading; else content">Loading...</div>

<ng-template #content>
  <table>
    <thead>
      <tr>
        <h3>Corona Virus Summary {{ summary.country }}</h3>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>Total Cases</th>
        <td>{{ summary.totalConfirmed }}</td>
      </tr>
      <tr>
        <th>New Cases</th>
        <td>{{ summary.newConfirmed }}</td>
      </tr>
      <tr>
        <th>Active Cases</th>
        <td>{{ summary.activeCases }}</td>
      </tr>
      <tr>
        <th>Total Recovered</th>
        <td>{{ summary.totalRecovered }}</td>
      </tr>
      <tr>
        <th>New Recovered</th>
        <td>{{ summary.newRecovered }}</td>
      </tr>
      <tr>
        <th>Recovery Rate</th>
        <td>{{ summary.recoveryRate | percent: "1.2-2" }}</td>
      </tr>
      <tr>
        <th>Total Deaths</th>
        <td>{{ summary.totalDeaths }}</td>
      </tr>
      <tr>
        <th>New Deaths</th>
        <td>{{ summary.newDeaths }}</td>
      </tr>
      <tr>
        <th>Mortality Rate</th>
        <td>{{ summary.mortalityRate | percent: "1.2-2" }}</td>
      </tr>
    </tbody>
  </table>
  <h1>TODO: replace the following table with a bar chart</h1>
  <table>
    <thead>
      <th>Date</th>
      <th>Daily Deaths</th>
      <th>Daily Recovered</th>
      <th>Daily Cases</th>
    </thead>
    <tbody>
      <tr *ngFor="let day of summary.lastWeek">
        <td>{{ day.date | date }}</td>
        <td>{{ day.newDeaths }}</td>
        <td>{{ day.newRecovered }}</td>
        <td>{{ day.newConfirmed }}</td>
      </tr>
    </tbody>
  </table>

  <h1>TODO: replace the following table with a graph</h1>

  <table>
    <thead>
      <th>Date</th>
      <th>Total Deaths</th>
      <th>Total Recovered</th>
      <th>Total Cases</th>
    </thead>
    <tbody>
      <tr *ngFor="let day of summary.dayone">
        <td>{{ day.date }}</td>
        <td>{{ day.totalDeaths }}</td>
        <td>{{ day.totalRecovered }}</td>
        <td>{{ day.totalConfirmed }}</td>
      </tr>
    </tbody>
  </table>
</ng-template>
